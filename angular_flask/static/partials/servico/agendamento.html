<div>
   <div class="row">
      <div class="col-md-12">
         <h1 class="page-head-line">Agendamento</h1>
         <h1 class="page-subhead-line">Crie contratos de serviços para os clientes</h1>
         <a ng-click="vm.helpActive = !vm.helpActive" class="btn btn-link pull-right"><span class="fa fa-info"></span></a>
         <toast></toast>
      </div>
   </div>

   <div class="row">
      <div class="col-xs-12">
         <div class="panel panel-default">
            <div class="panel-heading">
               Agendamento
            </div>
            <div class="panel-body">
               <form ng-submit="vm.add()" novalidate>
                  <div class="row" ng-hide="vm.alterando">
                     <div class="col-xs-10">
                        <div class="form-group">
                           <label>Cliente *</label>
                           <input class="form-control" type="text" ng-model="vm.form.pessoa_tem_funcao.nome" ng-readonly="true" data-toggle="modal" data-target="#selecionarCliente" ng-disabled="vm.alterando">
                           <p class="help-block" ng-show="vm.helpActive">Selecione o cliente deste contrato</p>
                        </div>
                     </div>
                     <div class="col-xs-1">
                        <div class="form-group">
                           <label>Cliente</label>
                           <a class="form-control btn btn-link" data-toggle="modal" data-target="#selecionarCliente" data-toggle="tooltip" data-placement="top" title="Busque por um cliente para realizar o agendamento" ng-disabled="vm.alterando">
                              <i class="fa fa-search"></i>&nbsp;&nbsp;<i class="fa fa-user"></i>
                           </a>
                        </div>
                     </div>
                     <div class="col-xs-1">
                        <div class="form-group">
                           <label><br></label>
                           <a class="form-control btn btn-link" data-toggle="modal" data-target="#cadastrarCliente" data-toggle="tooltip" data-placement="top" title="Cadastre rapidamente um novo cliente antes de realizar o agendamento" ng-disabled="vm.alterando">
                              <i class="fa fa-plus"></i>&nbsp;&nbsp;<i class="fa fa-user"></i>
                           </a>
                        </div>
                     </div>
                  </div>

                  <div class="row" ng-show="vm.alterando">
                     <div class="col-xs-12">
                        <div class="form-group">
                           <label>Cliente</label>
                           <input class="form-control" type="text" ng-model="vm.form.pessoa_tem_funcao.nome" ng-readonly="true">
                           <p class="help-block" ng-show="vm.helpActive">Cliente deste agendamento</p>
                        </div>
                     </div>
                  </div>
                  <div class="row" ng-show="vm.alterando">
                     <div class="col-xs-6">
                        <div class="form-group">
                           <label>Valor total (R$)</label>
                           <input class="form-control" type="text" ng-model="vm.form.preco">
                           <p class="help-block" ng-show="vm.helpActive">Valor total do contrato</p>
                        </div>
                     </div>
                     <div class="col-xs-6">
                        <div class="form-group">
                           <label>ID Transação</label>
                           <input class="form-control" type="text" ng-model="vm.form.transacao_id" ng-readonly="true">
                           <p class="help-block" ng-show="vm.helpActive">Identificação da última transação registrada</p>
                        </div>
                     </div>
                  </div>
                  <div id="servicos_agendados">
                     <fieldset data-ng-repeat="agendamento in vm.form.servicos_agendados">
                        <hr>
                        <div class="row">
                           <div class="col-xs-3">
                              <div class="row">
                                 <div class="col-xs-12">
                                    <label>Data *</label>
                                    <div class="form-group">
                                       <p class="input-group">
                                          <input type="text" class="form-control" uib-datepicker-popup="{{vm.format}}" ng-model="agendamento.data_hora" is-open="agendamento.popup" datepicker-options="dateOptions" altInputFormats="altInputFormats" close-text="Fechar" name="data">
                                          <span class="input-group-btn">
                                             <a type="button" class="btn btn-default" ng-click="vm.openDate(agendamento)"><span class="fa fa-calendar"></span></a>
                                          </span>
                                       </p>
                                    </div>
                                 </div>
                              </div>
                              <div class="row">
                                 <div class="col-xs-12">
                                    <!-- <label>Hora *</label> -->
                                    <div class="form-group">
                                       <div uib-timepicker hour-step="1" minute-step="5" show-meridian="true" ng-model="agendamento.data_hora"></div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="col-xs-9">
                              <div class="row">
                                 <div class="col-xs-12">
                                    <div class="row">
                                       <div class="col-xs-5">
                                          <label>Serviço *</label>
                                          <div class="form-group">
                                             <select class="form-control" ng-model="agendamento.servico" ng-options="servico as servico.nome for servico in vm.servicos track by servico.id" ng-change="vm.selectServico(agendamento, servico)" ng-hide="vm.alterando"></select>
                                             <input type="text" ng-model="agendamento.servico_tem_porte.servico.nome" class="form-control" ng-readonly="true" ng-show="vm.alterando">
                                          </div>
                                       </div>
                                       <div class="col-xs-5">
                                          <label>Animal *</label>
                                          <div class="form-group">
                                             <select class="form-control" ng-model="agendamento.animal" ng-options="animal as animal.nome for animal in vm.animais track by animal.id" ng-change="vm.selectAnimal(agendamento, agendamento.animal)" ng-hide="vm.alterando"></select>
                                             <input type="text" ng-model="agendamento.animal.nome" class="form-control" ng-readonly="true" ng-show="vm.alterando">
                                          </div>
                                       </div>
                                       <div class="col-xs-2">
                                          <div class="form-group">
                                             <label>Detalhes</label>
                                             <a class="form-control btn btn-link" ng-disabled="!agendamento.animal || vm.alterando" data-toggle="modal" data-target="#detalhesAnimal" data-toggle="tooltip" data-placement="top" title="Ver detalhes do animal" ng-click="vm.detalhes_animal(agendamento.animal.id)"><span class="fa fa-plus"></span></a>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <div class="row">
                                 <div class="col-xs-12">
                                    <br>
                                 </div>
                              </div>
                              <div class="row">
                                 <div class="col-xs-12">
                                    <div class="row">
                                       <div class="col-xs-4">
                                          <div class="form-group">
                                             <label class="control-label" for="input">Preço *</label>
                                             <div class="input-group">
                                                <a class="btn btn-link input-group-addon" data-toggle="tooltip" data-placement="top" title="Calcular valor do serviço" ng-click="vm.calcularPreco(agendamento)"><span class="fa fa-usd"></span></a>
                                                <input type="text" ng-model="agendamento.preco" class="form-control" id="input">
                                                <p class="help-block" ng-show="vm.helpActive">Clique no botão para calcular o valor do serviço ou informe-o manualmente</p>
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-xs-7">
                                          <div class="form-group">
                                             <label>Observações *</label>
                                             <input class="form-control" type="text" ng-model="agendamento.observacao">
                                             <p class="help-block" ng-show="vm.helpActive">Informações sobre este serviço</p>
                                          </div>
                                       </div>
                                       <div class="col-xs-1">
                                          <div class="form-group">
                                             <label>Cancelar</label>
                                             <a class="form-control btn btn-link" ng-disabled="agendamento.cancelado" ng-readonly="agendamento.cancelado" data-toggle="tooltip" data-placement="top" title="Remover este agendamento" ng-click="vm.cancelAgendamento(agendamento)"><span class="fa fa-trash"></span></a>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="row" ng-show="vm.alterando">
                                       <div class="col-xs-3">
                                          <div class="form-group">
                                             <label>
                                                <br>
                                             </label>
                                             <div class="checkbox">
                                                <label>
                                                   <input type="checkbox" data-ng-model="agendamento.recorrente">&nbsp;&nbsp; Recorrente
                                                </label>
                                             </div>
                                             <p class="help-block" ng-show="vm.helpActive">Marque esta opção se o serviço acontece regularmente</p>
                                          </div>
                                       </div>
                                       <div class="col-xs-3">
                                          <div class="form-group">
                                             <label>
                                                <br>
                                             </label>
                                             <div class="checkbox">
                                                <label>
                                                   <input type="checkbox" data-ng-model="agendamento.executado">&nbsp;&nbsp; Executado
                                                </label>
                                             </div>
                                             <p class="help-block" ng-show="vm.helpActive">Marque esta opção se o serviço foi realizado</p>
                                          </div>
                                       </div>
                                       <div class="col-xs-3">
                                          <div class="form-group">
                                             <label>
                                                <br>
                                             </label>
                                             <div class="checkbox">
                                                <label>
                                                   <input type="checkbox" data-ng-model="agendamento.pago">&nbsp;&nbsp; Pago
                                                </label>
                                             </div>
                                             <p class="help-block" ng-show="vm.helpActive">Marque esta opção se o serviço teve o pagamento efetuado</p>
                                          </div>
                                       </div>
                                       <div class="col-xs-3">
                                          <div class="form-group">
                                             <label>
                                                <br>
                                             </label>
                                             <div class="checkbox">
                                                <label>
                                                   <input type="checkbox" data-ng-model="agendamento.cancelado" ng-disabled="true" ng-readonly="true">&nbsp;&nbsp; Cancelado
                                                </label>
                                             </div>
                                             <p class="help-block" ng-show="vm.helpActive">Marque esta opção para cancelar o agendamento</p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </fieldset>
                  </div>

                  <div class="row">
                     <div class="col-xs-6">
                        <button type="submit" ng-hide="vm.alterando" class="btn btn-link" data-toggle="tooltip" data-placement="top" title="Confirmar agendamento">
                           <span class="fa fa-check"></span><b>&nbsp;&nbsp; Ir Para Resumo</b>
                        </button>
                        <a ng-show="vm.alterando" class="btn btn-link" data-ng-click="vm.alt()" data-toggle="tooltip" data-placement="top" title="Alterar informações">
                           <span class="fa fa-check"></span><b>&nbsp;&nbsp; Atualizar informações</b>
                        </a>
                     </div>
                     <div class="col-xs-6">
                        <a class="btn btn-link pull-right" data-ng-click="vm.incluirServico()" data-toggle="tooltip" data-placement="top" title="Adicionar Serviço"><span class="fa fa-plus"></span><b>&nbsp;&nbsp; Adicionar Serviço</b></a>
                     </div>
                  </div>
               </form>
            </div>
         </div>
      </div>
   </div>


   <!-- MODAL DE SELEÇÂO DO CLIENTE -->
   <div id="selecionarCliente" class="modal fade" role="dialog" aria-labelledby="cliente">
      <div class="modal-dialog modal-md" role="document">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
               <h4 class="modal-title">Selecionar cliente</h4>
            </div>
            <div class="modal-body">
               <div class="row">
                  <div class="col-xs-12">
                     <div class="form-group">
                        <label>Busque por um cliente</label>
                        <input class="form-control" type="text" ng-model="vm.filtro">
                        <p class="help-block" ng-show="vm.helpActive">Você pode pesquisar por qualquer dado do cliente</p>
                     </div>
                  </div>
               </div>
               <label>Cliente *</label>
               <div class="table-wrapper">
                  <table class="table table-striped table-hover">
                     <thead>
                        <tr>
                           <th class="col-xs-1">#</th>
                           <th class="col-xs-4">Nome</th>
                           <th class="col-xs-4">Email</th>
                           <th class="col-xs-3">Telefone</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr ng-repeat="entry in vm.clientes | filter:vm.filtro">
                           <th>
                              <input type="checkbox" ng-model="entry.checked" ng-change="vm.updateSelection(entry.id, vm.clientes); vm.selectCliente(entry)" data-dismiss="modal">
                           </th>
                           <td>{{entry.nome}}</td>
                           <td>{{entry.email}}</td>
                           <td>{{entry.telefone}}</td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="vm.cancelCliente()">Fechar</button>
            </div>
         </div>
      </div>
   </div>

   <!-- MODAL DE CADASTRO DO CLIENTE -->
   <div id="cadastrarCliente" class="modal fade" role="dialog" aria-labelledby="cadastrar">
      <div class="modal-dialog modal-lg" role="document">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
               <h4 class="modal-title">Cadastrar cliente</h4>
            </div>
            <div class="modal-body">
               <h4>Cliente</h4>
               <form novalidate name="formCliente">
                  <div class="row">
                     <div class="col-xs-7">
                        <div class="form-group">
                           <label>Nome *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.nome" name="nome" required ng-maxlength="50">
                           <p class="help-block error" ng-show="formCliente.nome.$invalid && !formCliente.nome.$pristine">Necessário inserir um nome válido</p>
                           <p class="help-block error" ng-show="formCliente.nome.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Insira o nome completo do cliente</p>
                        </div>
                     </div>
                     <div class="col-xs-5">
                        <div class="form-group">
                           <label>Email *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.email" name="email" ng-maxlength="50">
                           <p class="help-block error" ng-show="formCliente.email.$invalid && !formCliente.email.$pristine">Informe um email válido</p>
                           <p class="help-block error" ng-show="formCliente.email.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Insira o email do cliente no formato:
                              <i>email@exemplo.com</i>
                           </p>
                        </div>
                     </div>
                  </div>
                  <div class="row">
                     <div class="col-xs-2">
                        <div class="form-group">
                           <label>Tipo de Cliente *</label>
                           <div class="checkbox">
                              <label>
                                 <input type="checkbox" data-ng-model="vm.form.pessoa.clienteEspecial">&nbsp;&nbsp; Cliente Especial
                              </label>
                           </div>
                           <p class="help-block" ng-show="vm.helpActive">Marque esta opção se o cliente tiver benefícios</p>
                        </div>
                     </div>
                     <div class="col-xs-3">
                        <div class="form-group">
                           <label>CPF/CNPJ *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.registro" name="registro" ng-maxlength="20" ng-pattern="/^\d+$/">
                           <p class="help-block error" ng-show="formCliente.registro.$invalid && !formCliente.registro.$pristine">Informe um registro válido</p>
                           <p class="help-block error" ng-show="formCliente.registro.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Insira o CPF ou CNPJ do cliente</p>
                        </div>
                     </div>
                     <div class="col-xs-3">
                        <div class="form-group">
                           <label>RG *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.rg" name="rg" ng-pattern="/^\d+$/" ng-maxlength="20">
                           <p class="help-block error" ng-show="formCliente.rg.$invalid && !formCliente.rg.$pristine">Necessário inserir um registro válido</p>
                           <p class="help-block error" ng-show="formCliente.rg.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Insira o número do RG</p>
                        </div>
                     </div>
                     <div class="col-xs-1">
                        <div class="form-group">
                           <label>Exp. *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.orgao_expedidor" name="orgao_expedidor" ng-maxlength="6">
                           <p class="help-block error" ng-show="formCliente.orgao_expedidor.$invalid && !formCliente.orgao_expedidor.$pristine">Necessário inserir um órgão expedidor válido</p>
                           <p class="help-block error" ng-show="formCliente.orgao_expedidor.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Insira o órgão expedidor</p>
                        </div>
                     </div>
                     <div class="col-xs-3">
                        <div class="form-group">
                           <label>Insc. Estadual *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.inscricao_estadual" name="inscricao_estadual" ng-pattern="/^\d+$/">
                           <p class="help-block error" ng-show="formCliente.inscricao_estadual.$invalid && !formCliente.inscricao_estadual.$pristine">Necessário inserir uma inscrição estadual válida</p>
                           <p class="help-block error" ng-show="formCliente.inscricao_estadual.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Insira o número da Inscrição Estadual</p>
                        </div>
                     </div>
                  </div>
                  <hr>
                  <!-- ENDERECO -->

                  <div class="row">
                     <div class="col-xs-2">
                        <div class="form-group">
                           <label>CEP *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.cep" name="cep" ng-pattern="/^\d+$/" required ng-maxlength="8">
                           <p class="help-block error" ng-show="formCliente.cep.$invalid && !formCliente.cep.$pristine">Necessário inserir um nome válido</p>
                           <p class="help-block error" ng-show="formCliente.cep.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">CEP da localidade do cliente</p>
                        </div>
                     </div>
                     <div class="col-xs-1">
                        <div class="form-group">
                           <label>Buscar</label>
                           <a class="form-control btn btn-link" ng-click="vm.search_zip_code()" data-toggle="tooltip" data-placement="top" title="" data-title="Auto-completar endereço a partir do CEP">
                              <span class="fa fa-search"></span>
                           </a>
                           <p class="help-block" ng-show="vm.helpActive"></p>
                        </div>
                     </div>
                     <div class="col-xs-5">
                        <div class="form-group">
                           <label>Logradouro *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.logradouro" name="logradouro" required ng-maxlength="100">
                           <p class="help-block error" ng-show="formCliente.logradouro.$invalid && !formCliente.logradouro.$pristine">Necessário inserir um logradouro válido</p>
                           <p class="help-block error" ng-show="formCliente.logradouro.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Nome da rua</p>
                        </div>
                     </div>
                     <div class="col-xs-1">
                        <div class="form-group">
                           <label>Nº. *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.numero" ng-pattern="/^\d+$/" name="numero" required ng-maxlength="11">
                           <p class="help-block error" ng-show="formCliente.numero.$invalid && !formCliente.numero.$pristine">Necessário inserir um número válido</p>
                           <p class="help-block error" ng-show="formCliente.numero.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">No. da residência</p>
                        </div>
                     </div>
                     <div class="col-xs-3">
                        <div class="form-group">
                           <label>Complemento</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.complemento" name="complemento" ng-maxlength="50">
                           <p class="help-block error" ng-show="formCliente.complemento.$invalid && !formCliente.complemento.$pristine">Necessário inserir um complemento válido</p>
                           <p class="help-block error" ng-show="formCliente.complemento.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Informações adicionais</p>
                        </div>
                     </div>
                  </div>
                  <div class="row">
                     <div class="col-xs-3">
                        <div class="form-group">
                           <label>Ponto de Referência</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.ponto_de_referencia" name="pontoDeReferencia" ng-maxlength="50">
                           <p class="help-block error" ng-show="formCliente.pontoDeReferencia.$invalid && !formCliente.pontoDeReferencia.$pristine">Necessário inserir um ponto de referência válido</p>
                           <p class="help-block error" ng-show="formCliente.pontoDeReferencia.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Insira uma localidade próxima conhecida</p>
                        </div>
                     </div>
                     <div class="col-xs-4">
                        <div class="form-group">
                           <label>Cidade *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.cidade" name="cidade" required ng-maxlength="50">
                           <p class="help-block error" ng-show="formCliente.cidade.$invalid && !formCliente.cidade.$pristine">Necessário inserir um cidade válido</p>
                           <p class="help-block error" ng-show="formCliente.cidade.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Insira a cidade do cliente</p>
                        </div>
                     </div>
                     <div class="col-xs-2">
                        <div class="form-group">
                           <label>Bairro *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.bairro" name="bairro" required ng-maxlength="50">
                           <p class="help-block error" ng-show="formCliente.bairro.$invalid && !formCliente.bairro.$pristine">Necessário inserir um bairro válido</p>
                           <p class="help-block error" ng-show="formCliente.bairro.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Insira a bairro do cliente</p>
                        </div>
                     </div>
                     <div class="col-xs-1">
                        <div class="form-group">
                           <label>UF *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.uf" name="uf" required ng-maxlength="2">
                           <p class="help-block error" ng-show="formCliente.uf.$invalid && !formCliente.uf.$pristine">Necessário inserir um estado válido</p>
                           <p class="help-block error" ng-show="formCliente.uf.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Uni. Federativa. Ex.:
                              <i>PR</i>
                           </p>
                        </div>
                     </div>
                     <div class="col-xs-2">
                        <div class="form-group">
                           <label>País *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.pessoa.pais" name="pais" required ng-maxlength="50">
                           <p class="help-block error" ng-show="formCliente.pais.$invalid && !formCliente.pais.$pristine">Necessário inserir um pais válido</p>
                           <p class="help-block error" ng-show="formCliente.pais.$error.maxlength">O valor informado foi maior que o limite</p>
                           <p class="help-block" ng-show="vm.helpActive">Ex.:
                              <i>Brasil</i>
                           </p>
                        </div>
                     </div>
                  </div>

                  <!-- FIM ENDERECO -->
                  <hr>
                  <!-- CONTATO -->
                  <div class="row">
                     <!-- INICIO BLOCO TELEFONES -->
                     <div class="col-xs-12">
                        <div class="row">
                           <fieldset data-ng-repeat="telefone in vm.form.pessoa.telefones">
                              <div class="col-xs-3">
                                 <div class="form-group">
                                    <label>Cód. País *</label>
                                    <input class="form-control" type="text" data-ng-model="telefone.codigo_pais">
                                    <p class="help-block" ng-show="vm.helpActive">Brasil:
                                       <i>+55</i>
                                    </p>
                                 </div>
                              </div>
                              <div class="col-xs-3">
                                 <div class="form-group">
                                    <label>Cód. Área*</label>
                                    <input class="form-control" type="text" data-ng-model="telefone.codigo_area">
                                    <p class="help-block" ng-show="vm.helpActive">Ponta Grossa:
                                       <i>42</i>
                                    </p>
                                 </div>
                              </div>
                              <div class="col-xs-6">
                                 <div class="form-group">
                                    <label>Telefone *</label>
                                    <input class="form-control" type="text" data-ng-model="telefone.numero">
                                    <p class="help-block" ng-show="vm.helpActive">Insira o número do telefone</p>
                                 </div>
                              </div>
                           </fieldset>
                        </div>
                     </div>
                  </div>
               </form>
               <hr>


               <h4>Animal</h4>
               <form novalidade name="formAnimal">
                  <div class="row">
                     <div class="col-xs-6">
                        <div class="form-group">
                           <label>Nome *</label>
                           <input class="form-control" type="text" data-ng-model="vm.form.animal.nome">
                           <p class="help-block" ng-show="vm.helpActive">Nome do animal</p>
                        </div>
                     </div>
                     <div class="col-xs-3">
                        <div class="form-group">
                           <label>Sexo *</label>
                           <select class="form-control" data-ng-model="vm.form.animal.sexo">
                              <option value="F" ng-selected="vm.form.animal.sexo == 'F'">Fêmea</option>
                              <option value="M" ng-selected="vm.form.animal.sexo == 'M'">Macho</option>
                           </select>
                           <p class="help-block" ng-show="vm.helpActive">Selecione o sexo</p>
                        </div>
                     </div>
                     <div class="col-xs-3">
                        <label>Nascimento *</label>
                        <p class="input-group">
                           <input type="text" class="form-control" uib-datepicker-popup="{{vm.format}}" ng-model="vm.form.animal.data_nascimento" ng-required="true" is-open="vm.popupNascimento" datepicker-options="dateOptions" altInputFormats="altInputFormats" close-text="Fechar">
                           <span class="input-group-btn">
                              <a type="a" class="btn btn-default" ng-click="vm.openNascimento()">
                                 <span class="fa fa-calendar"></span>
                              </a>
                           </span>
                        </p>
                     </div>
                  </div>
                  <div class="row">
                     <div class="col-xs-12">
                        <div class="form-group">
                           <label>Espécie *</label>
                           <select class="form-control" ng-model="vm.form.animal.especie_id" ng-options="especie.id as especie.nome for especie in vm.especies track by especie.id" ng-change="vm.getRacas()"></select>
                           <p class="help-block" ng-show="vm.helpActive">Selecione a espécie</p>
                        </div>
                     </div>
                     <div class="col-xs-12">
                        <div class="form-group">
                           <label>Raça *</label>
                           <select class="form-control" ng-model="vm.form.animal.raca_id" ng-options="raca.id as raca.nome for raca in vm.racas track by raca.id"></select>
                           <p class="help-block" ng-show="vm.helpActive">Selecione a raça</p>
                        </div>
                     </div>
                     <div class="col-xs-12">
                        <div class="form-group">
                           <label>Porte *</label>
                           <select class="form-control" ng-model="vm.form.animal.porte_id" ng-options="porte.id as porte.nome for porte in vm.portes track by porte.id"></select>
                           <p class="help-block" ng-show="vm.helpActive">Selecione o porte</p>
                        </div>
                     </div>
                  </div>
                  <div class="row">
                     <div class="col-xs-12">
                        <div class="form-group">
                           <label>Restrições</label>
                           <select class="form-control" multiple ng-model="vm.form.animal.restricoes" ng-options="restricao as (restricao.nome + ' - ' + restricao.descricao) for restricao in vm.restricoes">
                           </select>
                           <p class="help-block" ng-show="vm.helpActive">Indique se o animal tem alguma restrição</p>
                        </div>
                     </div>
                  </div>
               </form>
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
               <button type="button" ng-click="vm.adicionarCliente()" ng-disabled="formCliente.$invalid" class="btn btn-default"><span class="fa fa-check"></span>&nbsp;&nbsp;Confirmar</button>
            </div>
         </div>
      </div>
   </div>

   <!-- MODAL DE DETALHES DO ANIMAL -->
   <div id="detalhesAnimal" class="modal fade" role="dialog" aria-labelledby="detalhes">
      <div class="modal-dialog modal-sm" role="document">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
               <h4 class="modal-title">Detalhes</h4>
            </div>
            <div class="modal-body">
               <div class="row">
                  <div class="col-xs-12">
                     <div class="form-group">
                        <label>Nome</label>
                        <input class="form-control" type="text" ng-model="vm.form.animal.nome" ng-readonly="true">
                        <p class="help-block" ng-show="vm.helpActive">Nome do animal</p>
                     </div>
                  </div>
                  <div class="col-xs-4">
                     <div class="form-group has-feedback">
                        <label class="control-label" for="input">Sexo</label>
                        <div class="input-group" ng-show="vm.form.animal.sexo === 'M'">
                           <input type="text" class="form-control" id="input" ng-readonly="true" value="Macho">
                           <span class="form-control-feedback input-group-addon fa fa-mars"></span>
                        </div>
                        <div class="input-group" ng-show="vm.form.animal.sexo === 'F'">
                           <input type="text" class="form-control" id="input" ng-readonly="true" value="Fêmea">
                           <span class="form-control-feedback  input-group-addon fa fa-venus"></span>
                        </div>
                     </div>
                  </div>
                  <div class="col-xs-12">
                     <div class="form-group">
                        <label>Nascimento</label>
                        <span>{{vm.form.animal.data_nascimento|date:'dd/MM/yyyy'}}</span>
                        <p class="help-block" ng-show="vm.helpActive">Data de Nascimento</p>
                     </div>
                  </div>
                  <div class="col-xs-12">
                     <div class="form-group">
                        <label>Raça</label>
                        <input class="form-control" type="text" ng-model="vm.form.animal.raca.nome" ng-readonly="true">
                        <p class="help-block" ng-show="vm.helpActive">Raça do animal</p>
                     </div>
                  </div>
                  <div class="col-xs-12">
                     <div class="form-group">
                        <label>Porte</label>
                        <input class="form-control" type="text" ng-model="vm.form.animal.porte.nome" ng-readonly="true">
                        <p class="help-block" ng-show="vm.helpActive">Porte</p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
            </div>
         </div>
      </div>
   </div>



</div>
